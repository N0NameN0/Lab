<html>

<head>

    <script src="//codef.santo.fr/codef/codef_core.js"></script>
    <script src="//codef.santo.fr/codef/codef_3d.js"></script>


    <script>
        var mycanvas;
        var my3d;



        var myobj = new Array();
        var myobjvert = new Array();
        myobjvert = [{
            x: -100,
            y: 0,
            z: 100
        }, {
            x: 100,
            y: 0,
            z: 100
        }, {
            x: 100,
            y: 0,
            z: -100
        }, {
            x: -100,
            y: 0,
            z: -100
        }, {
            x: 0,
            y: 200,
            z: 0
        }, {
            x: 0,
            y: -200,
            z: 0
        }, ];

        myobj = [{
            p1: 1,
            p2: 4,
            p3: 0,
            params: new MeshBasicMaterial({
                color: 0x00aa00
            })
        }, {
            p1: 2,
            p2: 4,
            p3: 1,
            params: new MeshBasicMaterial({
                color: 0xeeeeee
            })
        }, {
            p1: 3,
            p2: 4,
            p3: 2,
            params: new MeshBasicMaterial({
                color: 0x00aa00
            })
        }, {
            p1: 0,
            p2: 4,
            p3: 3,
            params: new MeshBasicMaterial({
                color: 0xeeeeee
            })
        }, {
            p1: 0,
            p2: 5,
            p3: 1,
            params: new MeshBasicMaterial({
                color: 0xeeeeee
            })
        }, {
            p1: 1,
            p2: 5,
            p3: 2,
            params: new MeshBasicMaterial({
                color: 0x00aa00
            })
        }, {
            p1: 2,
            p2: 5,
            p3: 3,
            params: new MeshBasicMaterial({
                color: 0xeeeeee
            })
        }, {
            p1: 3,
            p2: 5,
            p3: 0,
            params: new MeshBasicMaterial({
                color: 0x00aa00
            })
        }, ];

        function init() {
            mycanvas = new canvas(320, 240, "main");
            my3d = new codef3D(mycanvas, 900, 40, 1, 1600);
            my3d.faces(myobjvert, myobj, false, true);
            mycanvas.contex.filter = new CanvasFilter([{
                filter: "gaussianBlur",
                stdDeviation: 15
            }, {
                filter: "convolveMatrix",
                kernelMatrix: [
                    [10, 0, 0],
                    [0, 0.5, 0],
                    [0, 0, -10]
                ]
            }, {
                filter: "colorMatrix",
                type: "hueRotate",
                values: 90
            }, ]);


            go();
        }

        function go() {
            mycanvas.fill('#000000');
            my3d.group.rotation.x += 0.01;
            my3d.group.rotation.y += 0.02;
            my3d.group.rotation.z += 0.04;
            my3d.draw();
            requestAnimFrame(go);
        }
    </script>
</head>

<body onLoad="init();">
    <center>
        <div id="main"></div>

    </center>
</body>


</html>